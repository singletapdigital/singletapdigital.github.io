(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{eNtl:function(o,n,e){"use strict";e.r(n),e.d(n,"BookingPageModule",(function(){return g}));var t=e("UKGz"),i=e("SVse"),r=e("s7LF"),s=e("sZkV"),b=e("iInd"),c=e("mrSG");class a{constructor(){this.personFirstName=new r.c("",[r.n.required,r.n.minLength(1)]),this.personLastName=new r.c("",[r.n.required,r.n.minLength(1)]),this.personPhoneNumber=new r.c("",[r.n.required,r.n.minLength(10)]),this.personEmailAddress=new r.c("",[r.n.required,r.n.minLength(1),r.n.email])}}var l=e("t0hA"),u=e("8Y7J"),m=e("h80k");const d=[{path:"",component:(()=>{class o{constructor(o,n,e){this.bookingService=o,this.formBuilder=n,this.toastController=e;const t=n.group(class{static createPersonForm(){return new a}}.createPersonForm());this.bookingForm=t}ngOnInit(){console.log("BookingPage -> ngOnInit");const o=Object(l.b)(this.bookingService.getNumberOfPersonBookingsForEvent());this.latestPersonsCount=o}clickSubmitForm(o,n,e=this.bookingForm,t=this.bookingService){console.log("BookingPage:: clickSubmitForm() -> form",o,n,e),t.addPersonToSimpleBookingEvent(e.value).subscribe(o=>{var n,e;console.log("BookingPage -> clickSubmitForm -> personBookingResult",o),this.presentToast("Successfully saved booking "+JSON.stringify(null===(e=null===(n=null==o?void 0:o.data)||void 0===n?void 0:n.insert_Person)||void 0===e?void 0:e.returning)).catch()})}presentToast(o="Loading...",n=this.toastController){return Object(c.a)(this,void 0,void 0,(function*(){return(yield n.create({message:o,duration:3500,animated:!0,translucent:!0})).present().then(()=>{console.log("Toast presented")})}))}}return o.\u0275fac=function(n){return new(n||o)(u.Kb(l.a),u.Kb(r.b),u.Kb(s.y))},o.\u0275cmp=u.Eb({type:o,selectors:[["app-booking"]],decls:42,vars:8,consts:[[3,"translucent"],["color","cobaltblue"],["slot","start"],[2,"padding-inline-start","0.25em"],[3,"formGroup","ngSubmit"],["f","ngForm"],[3,"fixed"],["size","7"],["lines","full"],["position","floating"],["formControlName","personFirstName","type","text","required",""],["size","5"],["formControlName","personLastName","type","text","required",""],["size","6"],["formControlName","personPhoneNumber","type","text","required",""],["size","8"],["formControlName","personEmailAddress","type","text","required",""],["type","submit","color","cobaltblue",3,"disabled"],["name","person-add-outline"],["type","submit","mat-button","","color","primary","hidden","",3,"disabled"],["name","document-text"]],template:function(o,n){if(1&o){const o=u.Rb();u.Qb(0,"ion-header",0),u.Qb(1,"ion-toolbar",1),u.Qb(2,"ion-buttons",2),u.Lb(3,"app-home-button"),u.Pb(),u.Qb(4,"ion-title",3),u.rc(5," Booking "),u.Pb(),u.Pb(),u.Pb(),u.Qb(6,"ion-content"),u.Qb(7,"form",4,5),u.Yb("ngSubmit",(function(e){u.lc(o);const t=u.kc(8);return n.clickSubmitForm(t,e)})),u.rc(9),u.dc(10,"async"),u.Qb(11,"ion-grid",6),u.Qb(12,"ion-row"),u.Qb(13,"ion-col",7),u.Qb(14,"ion-item",8),u.Qb(15,"ion-label",9),u.rc(16," First name "),u.Pb(),u.Lb(17,"ion-input",10),u.Pb(),u.Pb(),u.Pb(),u.Qb(18,"ion-row"),u.Qb(19,"ion-col",11),u.Qb(20,"ion-item",8),u.Qb(21,"ion-label",9),u.rc(22," Last name "),u.Pb(),u.Lb(23,"ion-input",12),u.Pb(),u.Pb(),u.Pb(),u.Qb(24,"ion-row"),u.Qb(25,"ion-col",13),u.Qb(26,"ion-item",8),u.Qb(27,"ion-label",9),u.rc(28," Phone number "),u.Pb(),u.Lb(29,"ion-input",14),u.Pb(),u.Pb(),u.Pb(),u.Qb(30,"ion-row"),u.Qb(31,"ion-col",15),u.Qb(32,"ion-item",8),u.Qb(33,"ion-label",9),u.rc(34," Email address "),u.Pb(),u.Lb(35,"ion-input",16),u.Pb(),u.Pb(),u.Pb(),u.Qb(36,"ion-button",17),u.Lb(37,"ion-icon",18),u.rc(38," Add Person to Booking "),u.Pb(),u.Qb(39,"button",19),u.Lb(40,"ion-icon",20),u.rc(41," Add Person (enter) "),u.Pb(),u.Pb(),u.Pb(),u.Pb()}2&o&&(u.hc("translucent",!0),u.Ab(7),u.hc("formGroup",n.bookingForm),u.Ab(2),u.tc(" Current persons count: ",u.ec(10,6,n.latestPersonsCount)," "),u.Ab(2),u.hc("fixed",!0),u.Ab(25),u.hc("disabled",n.bookingForm.invalid),u.Ab(3),u.hc("disabled",n.bookingForm.invalid))},directives:[s.h,s.t,s.c,m.a,s.s,s.e,r.o,r.k,r.e,s.g,s.n,s.d,s.k,s.l,s.j,s.x,r.j,r.d,r.m,s.b,s.i],pipes:[i.b],styles:[""]}),o})()}];let p=(()=>{class o{}return o.\u0275mod=u.Ib({type:o}),o.\u0275inj=u.Hb({factory:function(n){return new(n||o)},imports:[[b.i.forChild(d)],b.i]}),o})(),g=(()=>{class o{}return o.\u0275mod=u.Ib({type:o}),o.\u0275inj=u.Hb({factory:function(n){return new(n||o)},imports:[[i.c,r.f,r.l,s.u,t.a,p]]}),o})()}}]);