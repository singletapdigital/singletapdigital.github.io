!function(){function n(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function e(n,e){for(var o=0;o<e.length;o++){var t=e[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function o(n,o,t){return o&&e(n.prototype,o),t&&e(n,t),n}function t(){var n=i(['\n  mutation PersonCheckOut($personUUIDEquals: uuid!, $eventUUIDEquals: uuid!) {\n    update_PersonBooking(\n      _set: { checkOutDateTime: "now()" }\n      where: {\n        Person: { randomUUID: { _eq: $personUUIDEquals } }\n        Booking: { Event: { randomUUID: { _eq: $eventUUIDEquals } } }\n      }\n    ) {\n      affected_rows\n      returning {\n        checkInDateTime\n        randomUUID\n        updated_at\n      }\n    }\n  }\n']);return t=function(){return n},n}function r(){var n=i(['\n  mutation PersonCheckIn($personUUIDEquals: uuid!, $eventUUIDEquals: uuid!) {\n    update_PersonBooking(\n      _set: { checkInDateTime: "now()" }\n      where: {\n        Person: { randomUUID: { _eq: $personUUIDEquals } }\n        Booking: { Event: { randomUUID: { _eq: $eventUUIDEquals } } }\n      }\n    ) {\n      affected_rows\n      returning {\n        checkInDateTime\n        randomUUID\n        updated_at\n      }\n    }\n  }\n']);return r=function(){return n},n}function i(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{hRIL:function(e,i,c){"use strict";c.r(i),c.d(i,"CheckInPageModule",(function(){return B}));var s,a,u,l,d=c("UKGz"),h=c("SVse"),g=c("s7LF"),k=c("sZkV"),v=c("iInd"),U=c("aDUK"),f=c("8Y7J"),I=c("t0hA"),b=c("lTCR"),p=c.n(b),m=c("nbgS"),D=p.a(r()),P=p.a(t()),C=((s=function(){function e(o){n(this,e),this.apollo=o}return o(e,[{key:"checkInPersonByUUIDs",value:function(n,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.apollo;return o.mutate({mutation:D,variables:{personUUIDEquals:n,eventUUIDEquals:e}})}},{key:"checkOutPersonByUUIDs",value:function(n,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.apollo;return o.mutate({mutation:P,variables:{personUUIDEquals:n,eventUUIDEquals:e}})}}]),e}()).\u0275fac=function(n){return new(n||s)(f.Qb(m.b))},s.\u0275prov=f.Fb({token:s,factory:s.\u0275fac,providedIn:"root"}),s),y=c("Y+pZ"),L=[{path:"",component:(a=function(){function e(o,t){n(this,e),this.bookingService=o,this.checkInOutService=t,console.log("CheckInPage -> constructor -> bookingService",o),this.getLoadBookingPersonsFromLocalStorage()}return o(e,[{key:"ngOnInit",value:function(){}},{key:"getLoadBookingPersonsFromLocalStorage",value:function(){var n=Object(U.c)(),e=n.savedPersonBooking,o=n.personFormAutofillLast;this.savedPersonBooking=e,console.log("CheckInPage -> getLoadBookingPersonsFromLocalStorage -> savedPersonBooking",e),this.personFormAutofillMostRecent=o,console.log("CheckInPage -> getLoadBookingPersonsFromLocalStorage -> personFormAutofillLast",o)}},{key:"onClickCheckIn",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.savedPersonBooking.randomUUID,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.personFormAutofillMostRecent.selectedEventUUID,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.checkInOutService;o.checkInPersonByUUIDs(n,e).subscribe((function(n){var e=n.errors,o=n.data;if(void 0!==e||(null==e?void 0:e.length)>0||void 0===o)return console.log("CheckInPage -> ngOnInit -> data",o),console.log("CheckInPage -> ngOnInit -> errors",e),void console.error(e,o);console.log("Check success",o.update_PersonBooking.returning[0].checkInDateTime,o)}))}},{key:"onClickCheckOut",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.savedPersonBooking.randomUUID,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.personFormAutofillMostRecent.selectedEventUUID,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.checkInOutService;o.checkOutPersonByUUIDs(n,e).subscribe((function(n){var e=n.errors,o=n.data;if(void 0!==e||(null==e?void 0:e.length)>0||void 0===o)return console.log("CheckInPage -> ngOnInit -> data",o),console.log("CheckInPage -> ngOnInit -> errors",e),void console.error(e,o);console.log("Check success",o)}))}}]),e}(),a.\u0275fac=function(n){return new(n||a)(f.Jb(I.a),f.Jb(C))},a.\u0275cmp=f.Db({type:a,selectors:[["app-check-in"]],decls:14,vars:2,consts:[["pageTitle","Check in","isRightAlignedEndButtonHidden","true"],["button","",3,"click"],[3,"click"]],template:function(n,e){1&n&&(f.Mb(0,"ion-header"),f.Kb(1,"app-custom-header",0),f.Lb(),f.Mb(2,"ion-content"),f.Mb(3,"ion-card"),f.Mb(4,"ion-card-content"),f.Mb(5,"ion-item",1),f.Ub("click",(function(){return e.onClickCheckIn()})),f.Mb(6,"ion-label"),f.nc(7," For only most recently registered event test. "),f.Mb(8,"h2"),f.nc(9),f.Lb(),f.Mb(10,"h3"),f.nc(11),f.Lb(),f.Lb(),f.Mb(12,"ion-button",2),f.Ub("click",(function(){return e.onClickCheckOut()})),f.nc(13," Check out "),f.Lb(),f.Lb(),f.Lb(),f.Lb(),f.Lb()),2&n&&(f.zb(9),f.pc("PersonUUID: ",e.savedPersonBooking.randomUUID,""),f.zb(2),f.pc(" EventUUID: ",e.personFormAutofillMostRecent.selectedEventUUID," "))},directives:[k.l,y.a,k.j,k.g,k.h,k.o,k.s,k.e],styles:[""]}),a)}],w=((l=function e(){n(this,e)}).\u0275mod=f.Hb({type:l}),l.\u0275inj=f.Gb({factory:function(n){return new(n||l)},imports:[[v.i.forChild(L)],v.i]}),l),B=((u=function e(){n(this,e)}).\u0275mod=f.Hb({type:u}),u.\u0275inj=f.Gb({factory:function(n){return new(n||u)},imports:[[h.c,g.f,k.A,d.a,w]]}),u)}}])}();